id: cgovimage_migration
label: 'Custom minilanding migration'
source:


  plugin: url
  data_fetcher_plugin: file
  data_parser_plugin: xml
  urls: /var/www/docroot/profiles/custom/cgov_site/modules/custom/cgov_migration/migrations/private-files-mig/cgovimage.xml
  item_selector: /rows/row
  fields:
        -
         name: id
         label: id
         selector: '@id'
        -
         name: field_caption
         label: field_caption
         selector: field_caption

        -
         name: name
         label: name
         selector: name

        -
         name: field_media_image
         label: field_media_image
         selector: field_media_image

        -
         name: field_override_img_thumbnail
         label: field_override_img_thumbnail
         selector: field_override_img_thumbnail

        -
         name: field_override_img_featured
         label: field_override_img_featured
         selector: field_override_img_featured

        -
         name: field_override_img_panoramic
         label: field_override_img_panoramic
         selector: field_override_img_panoramic

        -
         name: field_override_img_social_media
         label: field_override_img_social_media
         selector: field_override_img_social_media

  ids:
    id:
      type: integer

process:
  mid: id
  name: name
  field_caption: field_caption

  uid:
   plugin: default_value
   default_value: 1


  status:
   plugin: default_value
   default_value: 1



  field_media_image:
    plugin: image_import
    source: field_media_image
    skip_on_missing_source: true
    skip_on_error: true

  field_override_img_thumbnail:
    plugin: image_import
    source: field_override_img_thumbnail
    skip_on_missing_source: true
    skip_on_error: true

  field_override_img_featured:
    plugin: image_import
    source: field_override_img_featured
    skip_on_missing_source: true
    skip_on_error: true

  field_override_img_panoramic:
    plugin: image_import
    source: field_override_img_panoramic
    skip_on_missing_source: true
    skip_on_error: true

  field_override_img_social_media:
    plugin: image_import
    source: field_override_img_social_media
    skip_on_missing_source: true
    skip_on_error: true



destination:
  plugin: entity:media
  default_bundle: cgov_image

migration_dependencies:  { }
