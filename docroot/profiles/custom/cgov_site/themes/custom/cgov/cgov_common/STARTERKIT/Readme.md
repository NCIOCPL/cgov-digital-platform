# Creating a CGOV Sub Theme

A sub theme should be created when a microsite/multisite needs to alter the layout (twig templates) provided by `cgov_common`.

1. Copy the `cgov_subtheme` folder into the `themes/custom/cgov` folder
2. Rename all instances of `subtheme` with your new theme name using the proper letter casing and underscores for spaces (where necessary). This applies to file names and to the code within the files.
3. Add the new theme to the exported array in `themes/custom/cgov/themes.config.js`. This will add the sub theme to the front-end build.
4. Run `npm run watch` in the command line to ensure all themes are being built properly and assets are generated in a local `dist` folder
5. Replace the `screenshot.png` and `logo.svg` with appropriate images


# Creating a CGOV color variant

Color variants are used to override the default CGOV color theme without making major layout changes. A color variant specific class name is added to the `<body>` class attribute for hooking in CSS or JS as necessary/needed.

1. Copy an existing variant folder from `themes/custom/cgov/cgov_common/src/variants/` into the same `variants` folder
2. Rename the copied folder to the variant name of your choice. For example: `green`
3. Remove any unnecessary assets or images from the `assets` folder.
4. Add svg images/icons specific to this color variant to the `assets/sprites` folder to be built into the `svg-sprite-variantname.svg` 
5. Rename the entrypoint files to match the variant name
6. Remove any unnecessary code from the entrypoint `.js` file and ensure it is importing the properly named `.scss` file.
7. Open `styles/sprites/_svg-sprite.scss` and update the `svgPath` variable to point to `~Core/../cgov_common/dist/images/sprites/svg-sprite-variantname.svg` which will be generated by the front-end build

## Updating the build system
1. Add your theme variant entrypoint to `themes/custom/cgov/cgov_common/webpack.entries.js` so it will be built by webpack.
2. Add your theme variant library to `themes/custom/cgov/cgov_common/cgov_common.libraries.yml` to make the new variant bundle available for discovery by Drupal.
3. Add your theme variant name to the exported array in `themes/custom/cgov/themes.config.js`. This is read by the front-end build system to trigger the variant build.
4. Add your theme variant name to `themes/custom/cgov/themes-settings.php` in the `$form['variant']['color_theme']` array to make the new variant available on the Drupal Theme Settings page.