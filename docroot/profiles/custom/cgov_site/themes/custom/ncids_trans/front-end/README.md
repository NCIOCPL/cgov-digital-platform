
## What is here?
This is the front-end stuff to build the new front-end. Where possible we reference as much from cgov_site/themes/custom/cgov as possible.

**NOTE: If adding packages DO NOT add to the `dependencies` list unless it is reference in the front-end code. Anything related to tooling should be placed in `devDependencies` **

## Scripts
* `clean:dist` - this cleans up the dist folder (`../dist`) that webpack publishes to. This is where the theme's libraries file points to.
* `clean:legacy-sprite` - cleans up any of the files generated by the sprite builder
* `clean:all` - cleans everything up
* `prebuild:dev` - Runs before `build:dev`, which cleans out dist.
* `build:dev` - builds sprites and runs a dev webpack build
* `prebuild:prod` - Runs before `build:prod`, which cleans out dist.
* `build:prod` - builds sprites and runs a prod webpack build
* `prewatch` - Runs before `watch`, which cleans out dist.
* `watch` - builds sprites and does a webpack watch build. NOTE: this does not watch the sprites.
* `prebuild:legacy-sprite` - runs before `build:legacy-sprite`, which cleans out the sprites
* `build:legacy-sprite` - builds the legacy sprites image/map

## Directories
* src
  * entrypoints - this is a copy of the entrypoints config from the legacy theme (cgov_common) If someone changes something in common they probably have to change it here.
  * styles - this is junk to support the legacy sprites.

## Config Files
* babel.config.json - this is the config for babel builds. It currently uses `@babel/preset-env`, which will use the browserslist in package.json.
* legacy-sprites.config.json - this is the config for svg-sprite and is used to generate the legacy sprite from the legacy sass
* package.json - you know the deal. This does have the browserslist config in it.
* postcss.config.js - this is the config for postcss. Mostly now it is autoprefixing.
* tsconfig.json - This is the typescript config. Anything new in this theme should be done in typescript, but we will support .js for all the legacy junk.
* webpack.alias.js - this is for our aliases. Most of this is for referencing the legacy code.
* webpack.config.js - the normal webpack config.
* webpack.entries.js - this is the config for the entry points for this theme's front-end code.

## Build Tooling
* Webpack 5.66 - Build tool
  * Babel Loader 8.2 - This supports Typescript now, so it is the loader for TS
  * Sass Loader 12.4
  * CSS Loader 6.5
  * Postcss Loader 6.2 + Autoprefixer 10.4
  * Webpack bundle analyzer 4.5
  * Mini CSS Extract Plugin 2.5 - This extracts .css files from the webpack .js modules.
  * CSS Minimizer Webpack Plugin - 3.4
* Typescript 4.5
* Node Sass 7.0 - Sass transpiler
* Jest 27 - Test framework
* Rimraf - tool for cleaning up dirs
* Svg Sprite - legacy sprite building tool

